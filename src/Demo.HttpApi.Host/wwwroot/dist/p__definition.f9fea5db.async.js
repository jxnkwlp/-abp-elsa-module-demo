(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[220],{64317:function(k,b,e){"use strict";var y=e(22122),C=e(28991),Z=e(81253),i=e(67294),u=e(20857),I=e(22270),D=e(66758),n=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],a=i.forwardRef(function(r,$){var z=r.fieldProps,G=r.children,X=r.params,L=r.proFieldProps,q=r.mode,A=r.valueEnum,ee=r.request,K=r.showSearch,s=r.options,Y=(0,Z.Z)(r,n),U=(0,i.useContext)(D.Z);return i.createElement(u.Z,(0,y.Z)({mode:"edit",valueEnum:(0,I.h)(A),request:ee,params:X,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({options:s,mode:q,showSearch:K,getPopupContainer:U.getPopupContainer},z),ref:$,proFieldProps:L},Y),G)}),E=i.forwardRef(function(r,$){var z=r.fieldProps,G=r.children,X=r.params,L=r.proFieldProps,q=r.mode,A=r.valueEnum,ee=r.request,K=r.options,s=(0,Z.Z)(r,c),Y=(0,C.Z)({options:K,mode:q||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},z),U=(0,i.useContext)(D.Z);return i.createElement(u.Z,(0,y.Z)({mode:"edit",valueEnum:(0,I.h)(A),request:ee,params:X,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({getPopupContainer:U.getPopupContainer},Y),ref:$,proFieldProps:L},s),G)}),v=a,x=E,f=v;f.SearchSelect=x,f.displayName="ProFormComponent",b.Z=f},52688:function(k,b,e){"use strict";var y=e(22122),C=e(28991),Z=e(81253),i=e(67294),u=e(20857),I=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],D=i.forwardRef(function(n,c){var a=n.fieldProps,E=n.unCheckedChildren,v=n.checkedChildren,x=n.proFieldProps,f=(0,Z.Z)(n,I);return i.createElement(u.Z,(0,y.Z)({valueType:"switch",mode:"edit",fieldProps:(0,C.Z)({unCheckedChildren:E,checkedChildren:v},a),ref:c,valuePropName:"checked",proFieldProps:x,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},f))});b.Z=D},5966:function(k,b,e){"use strict";var y=e(22122),C=e(81253),Z=e(67294),i=e(20857),u=["fieldProps","proFieldProps"],I=["fieldProps","proFieldProps"],D="text",n=function(v){var x=v.fieldProps,f=v.proFieldProps,r=(0,C.Z)(v,u);return Z.createElement(i.Z,(0,y.Z)({mode:"edit",valueType:D,fieldProps:x,filedConfig:{valueType:D},proFieldProps:f},r))},c=function(v){var x=v.fieldProps,f=v.proFieldProps,r=(0,C.Z)(v,I);return Z.createElement(i.Z,(0,y.Z)({mode:"edit",valueType:"password",fieldProps:x,proFieldProps:f,filedConfig:{valueType:D}},r))},a=n;a.Password=c,a.displayName="ProFormComponent",b.Z=a},90672:function(k,b,e){"use strict";var y=e(22122),C=e(81253),Z=e(67294),i=e(20857),u=["fieldProps","proFieldProps"],I=function(n,c){var a=n.fieldProps,E=n.proFieldProps,v=(0,C.Z)(n,u);return Z.createElement(i.Z,(0,y.Z)({ref:c,mode:"edit",valueType:"textarea",fieldProps:a,proFieldProps:E},v))};b.Z=Z.forwardRef(I)},32070:function(){},61201:function(k,b,e){"use strict";var y=e(3182),C=e(94043),Z=e.n(C),i=e(49684),u=e(5966),I=e(90672),D=e(52688),n=e(64317),c=e(85893),a=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.Z,{label:"Name",name:"name",rules:[{required:!0},{max:32}]}),(0,c.jsx)(u.Z,{label:"Display Name",name:"displayName",rules:[{required:!0},{max:64}]}),(0,c.jsx)(I.Z,{label:"Description",name:"description",fieldProps:{rows:2,autoSize:{minRows:2,maxRows:5}},rules:[{max:128}]}),(0,c.jsx)(D.Z,{label:"Singleton",name:"isSingleton"}),(0,c.jsx)(u.Z,{label:"Tag",name:"tag"}),(0,c.jsx)(n.Z,{label:"Persistence Behavior",name:"persistenceBehavior",request:(0,y.Z)(Z().mark(function v(){return Z().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object.keys(i.TC).filter(function(r){return parseInt(r)>=0}).map(function(r){return{value:parseInt(r),label:i.TC[r]}}));case 1:case"end":return f.stop()}},v)})),initialValue:i.TC.WorkflowBurst})]})};b.Z=a},34314:function(k,b,e){"use strict";e.r(b),e.d(b,{default:function(){return Ze}});var y=e(57663),C=e(71577),Z=e(71194),i=e(50146),u=e(2824),I=e(34792),D=e(48086),n=e(3182),c=e(94043),a=e.n(c),E=e(41180),v=e(37476),x=e(64317),f=e(5966),r=e(90672),$=e(67265),z=e(22122),G=e(81253),X=e(59250),L=e(13013),q=e(30887),A=e(18515),ee=e(84305),K=e(75901),s=e(67294),Y=e(94184),U=e.n(Y),me=e(57254),pe=e(44545),Be=e(32070),ce=["key","name"],ve=function(d){var g=d.children,O=d.menus,P=d.onSelect,F=d.className,o=d.style,J=(0,s.useContext)(K.ZP.ConfigContext),N=J.getPrefixCls,H=N("pro-table-dropdown"),B=s.createElement(A.Z,{onClick:function(R){return P&&P(R.key)}},O==null?void 0:O.map(function(j){return s.createElement(A.Z.Item,{key:j.key},j.name)}));return s.createElement(L.Z,{overlay:B,className:U()(H,F)},s.createElement(C.Z,{style:o},g," ",s.createElement(me.Z,null)))},ne=function(d){var g=d.className,O=d.style,P=d.onSelect,F=d.menus,o=F===void 0?[]:F,J=d.children,N=(0,s.useContext)(K.ZP.ConfigContext),H=N.getPrefixCls,B=H("pro-table-dropdown"),j=s.createElement(A.Z,{onClick:function(Q){P==null||P(Q.key)}},o.map(function(R){var Q=R.key,ae=R.name,te=(0,G.Z)(R,ce);return s.createElement(A.Z.Item,(0,z.Z)({key:Q},te),ae)}));return s.createElement(L.Z,{overlay:j,className:U()(B,g)},s.createElement("a",{style:O},J||s.createElement(pe.Z,null)))};ne.Button=ve;var fe=ne,Pe=e(10926),he=e(51615),Ee=e(61201),_=e(85893),Ce=function(){var w=(0,n.Z)(a().mark(function d(g,O){var P;return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,E.MV)(g,O);case 2:if(P=o.sent,!P){o.next=6;break}return D.default.success("Successfully modified"),o.abrupt("return",!0);case 6:return o.abrupt("return",!1);case 7:case"end":return o.stop()}},d)}));return function(g,O){return w.apply(this,arguments)}}(),De=function(){var w=(0,n.Z)(a().mark(function d(g){var O,P;return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,E.rF)(g);case 2:if(P=o.sent,!(P!=null&&(O=P.response)!==null&&O!==void 0&&O.ok)){o.next=6;break}return D.default.success("Delete successful"),o.abrupt("return",!0);case 6:return o.abrupt("return",!1);case 7:case"end":return o.stop()}},d)}));return function(g){return w.apply(this,arguments)}}(),Me=function(){var d=(0,s.useRef)(),g=(0,he.k6)(),O=(0,s.useState)(),P=(0,u.Z)(O,2),F=P[0],o=P[1],J=(0,s.useState)(!1),N=(0,u.Z)(J,2),H=N[0],B=N[1],j=(0,s.useState)(""),R=(0,u.Z)(j,2),Q=R[0],ae=R[1],te=(0,s.useState)(),se=(0,u.Z)(te,2),_e=se[0],Oe=se[1],Te=(0,s.useState)(),le=(0,u.Z)(Te,2),be=le[0],ye=le[1],ge=(0,s.useState)(!1),oe=(0,u.Z)(ge,2),Ie=oe[0],ie=oe[1],xe=(0,s.useState)(),ue=(0,u.Z)(xe,2),de=ue[0],Fe=ue[1],Se=[{dataIndex:"name",title:"Name",search:!1},{dataIndex:"displayName",title:"Display Name",search:!1},{dataIndex:"description",title:"Description",search:!1},{dataIndex:"latestVersion",title:"Latest Version",search:!1},{dataIndex:"publishedVersion",title:"Published Version",search:!1},{title:"Modification Time",dataIndex:"creationTime",valueType:"dateTime",renderText:function(M,t){var m;return(m=t.lastModificationTime)!==null&&m!==void 0?m:t.creationTime}},{title:"Action",valueType:"option",width:200,align:"center",render:function(M,t,m,p){return[(0,_.jsx)("a",{onClick:function(){Fe(t.id),o(t),ie(!0)},children:"Dispatch"},"dispatch"),(0,_.jsx)("a",{onClick:function(){Oe(t),ye(t.id),B(!0),ae("\u7F16\u8F91 ".concat(t.name))},children:"Edit"},"edit"),(0,_.jsx)("a",{onClick:function(){g.push("/designer?id="+t.id)},children:"Designer"},"designer"),(0,_.jsx)(fe,{onSelect:function(){var l=(0,n.Z)(a().mark(function h(re){return a().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(re!="delete"){T.next=4;break}i.Z.confirm({title:"Confirm delete?",onOk:function(){var Re=(0,n.Z)(a().mark(function Ae(){return a().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,De(t.id);case 2:if(!V.sent){V.next=4;break}p==null||p.reload();case 4:case"end":return V.stop()}},Ae)}));function We(){return Re.apply(this,arguments)}return We}()}),T.next=16;break;case 4:if(re!="publish"){T.next=11;break}return T.next=7,(0,E.D_)(t.id);case 7:if(!T.sent){T.next=9;break}p==null||p.reload();case 9:T.next=16;break;case 11:if(re!="unpublish"){T.next=16;break}return T.next=14,(0,E.Ns)(t.id);case 14:if(!T.sent){T.next=16;break}p==null||p.reload();case 16:case"end":return T.stop()}},h)}));return function(h){return l.apply(this,arguments)}}(),menus:[{key:"publish",name:"Publish",disabled:t.publishedVersion!=null},{key:"unpublish",name:"Unpublish",disabled:t.publishedVersion==null},{key:"delete",name:"Delete"}]},"actionGroup")]}}];return(0,_.jsxs)($.ZP,{children:[(0,_.jsx)(Pe.ZP,{columns:Se,actionRef:d,rowKey:"id",toolBarRender:function(){return[(0,_.jsx)(C.Z,{type:"primary",onClick:function(){g.push("/designer")},children:"\u6DFB\u52A0"},"add")]},search:!1,request:function(){var S=(0,n.Z)(a().mark(function M(t){var m,p,l,h;return a().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return m=t.current,p=t.pageSize,delete t.current,delete t.pageSize,l=(m-1)*p,W.next=6,(0,E.Jx)({skipCount:l,maxResultCount:p});case 6:if(h=W.sent,!h){W.next=11;break}return W.abrupt("return",{success:!0,data:h.items,total:h.totalCount});case 11:return W.abrupt("return",{success:!1});case 12:case"end":return W.stop()}},M)}));return function(M){return S.apply(this,arguments)}}()}),(0,_.jsx)(v.Y,{layout:"horizontal",preserve:!1,labelCol:{span:5},width:600,labelWrap:!0,title:Q,visible:H,modalProps:{destroyOnClose:!0,maskClosable:!1},onVisibleChange:B,initialValues:_e,onFinish:function(){var S=(0,n.Z)(a().mark(function M(t){var m,p;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ce(be,t);case 2:m=h.sent,m&&(B(!1),(p=d.current)===null||p===void 0||p.reload());case 4:case"end":return h.stop()}},M)}));return function(M){return S.apply(this,arguments)}}(),children:(0,_.jsx)(Ee.Z,{})}),(0,_.jsxs)(v.Y,{layout:"horizontal",preserve:!1,labelCol:{span:5},width:600,labelWrap:!0,title:"Dispatch",visible:Ie,modalProps:{destroyOnClose:!0,maskClosable:!1},onVisibleChange:ie,onFinish:function(){var S=(0,n.Z)(a().mark(function M(t){var m;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,E.NV)(de,t);case 2:if(m=l.sent,!(m!=null&&m.workflowInstanceId)){l.next=6;break}return D.default.success("Dispatch success. Instance Id: "+m.workflowInstanceId),l.abrupt("return",!0);case 6:return l.abrupt("return",!1);case 7:case"end":return l.stop()}},M)}));return function(M){return S.apply(this,arguments)}}(),children:[(0,_.jsx)(x.Z,{label:"Activity",name:"activityId",request:(0,n.Z)(a().mark(function S(){var M,t,m;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,E.lE)(de,(M=F==null?void 0:F.publishedVersion)!==null&&M!==void 0?M:1);case 2:return m=l.sent,l.abrupt("return",((t=m.activities)!==null&&t!==void 0?t:[]).map(function(h){return{label:"".concat(h.displayName," (").concat(h.name,")"),value:h.activityId}}));case 4:case"end":return l.stop()}},S)}))}),(0,_.jsx)(f.Z,{label:"Correlation Id",name:"correlationId",rules:[{max:36}]}),(0,_.jsx)(f.Z,{label:"Context Id",name:"contextId",rules:[{max:36}]}),(0,_.jsx)(r.Z,{label:"Input",name:"input",fieldProps:{autoSize:{minRows:2,maxRows:10}}})]})]})},Ze=Me}}]);
